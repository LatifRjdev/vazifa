import{u as t,a as o,p as n,f as u}from"./fetch-utils-CEdl9sdl.js";import{u as r}from"./useQuery-CkwzADaB.js";import{u as i}from"./useMutation-CUJSGQ7R.js";const q=()=>{const s=t();return i({mutationFn:e=>n("/tasks",e.taskData),onSuccess:async e=>{await s.invalidateQueries({queryKey:["my-tasks","user"]}),await s.invalidateQueries({queryKey:["all-tasks"]}),await s.invalidateQueries({queryKey:["tasks-analytics"]}),s.refetchQueries({queryKey:["my-tasks","user"],type:"active"}),s.refetchQueries({queryKey:["all-tasks"],type:"active"}),s.refetchQueries({queryKey:["tasks-analytics"],type:"active"})}})},a=()=>{const s=t();return i({mutationFn:e=>o(`/tasks/${e.taskId}/status`,e),onSuccess:e=>{s.invalidateQueries({queryKey:["task",e==null?void 0:e._id]}),s.invalidateQueries({queryKey:["project",e==null?void 0:e.project]}),s.invalidateQueries({queryKey:["activities",e==null?void 0:e._id,1]})}})},Q=()=>{const s=t();return i({mutationFn:e=>o(`/tasks/${e.taskId}/title`,e),onSuccess:e=>{s.invalidateQueries({queryKey:["task",e==null?void 0:e._id]}),s.invalidateQueries({queryKey:["activities",e==null?void 0:e._id,1]})}})},v=()=>{const s=t();return i({mutationFn:e=>o(`/tasks/${e.taskId}/description`,e),onSuccess:e=>{s.invalidateQueries({queryKey:["task",e==null?void 0:e._id]}),s.invalidateQueries({queryKey:["activities",e==null?void 0:e._id,1]})}})},p=()=>{const s=t();return i({mutationFn:e=>n(`/tasks/${e.taskId}/comments`,e),onSuccess:e=>{s.invalidateQueries({queryKey:["comments",e==null?void 0:e.task]}),s.invalidateQueries({queryKey:["activities",e==null?void 0:e.task,1]})}})},K=()=>{const s=t();return i({mutationFn:e=>n(`/tasks/${e.commentId}/reaction`,e),onSuccess:e=>{s.invalidateQueries({queryKey:["comments",e==null?void 0:e.task]})}})},C=()=>{const s=t();return i({mutationFn:e=>n(`/tasks/${e.taskId}/attachments`,e.attachment),onSuccess:e=>{s.invalidateQueries({queryKey:["task",e==null?void 0:e._id]}),s.invalidateQueries({queryKey:["activities",e==null?void 0:e._id,1]})}})},F=s=>r({queryKey:["comments",s],queryFn:()=>u(`/tasks/${s}/comments`)}),S=()=>r({queryKey:["my-tasks","user"],queryFn:()=>u("/tasks/my-tasks")}),T=(s=!0)=>r({queryKey:["all-tasks"],queryFn:()=>u("/tasks/all-tasks"),enabled:s}),$=()=>{const s=t();return i({mutationFn:e=>n(`/tasks/${e.taskId}/responses`,e),onSuccess:e=>{s.invalidateQueries({queryKey:["responses",e==null?void 0:e.task]}),s.invalidateQueries({queryKey:["activities",e==null?void 0:e.task,1]})}})},f=s=>r({queryKey:["responses",s],queryFn:()=>u(`/tasks/${s}/responses`),enabled:!!s}),M=s=>{const e=s?new URLSearchParams(Object.entries(s).filter(([c,y])=>y!==void 0&&y!=="").map(([c,y])=>[c,String(y)])).toString():"";return r({queryKey:["completed-tasks",s],queryFn:()=>u(`/tasks/completed${e?`?${e}`:""}`)})};export{S as a,M as b,T as c,Q as d,v as e,C as f,F as g,p as h,K as i,f as j,$ as k,a as l,q as u};
