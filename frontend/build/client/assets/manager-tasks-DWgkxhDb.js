import{w as u}from"./with-props-DyG_vBPJ.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{u as x}from"./useQuery-CkwzADaB.js";import{q as g}from"./chunk-D4RADZKF-By21buN-.js";import{B as i}from"./badge-BR4L36Rg.js";import{C as n,d as l,a as p,b as h}from"./card-DunmZ-Mm.js";import{f}from"./fetch-utils-CEdl9sdl.js";import{u as j}from"./auth-context-B5vrc64i.js";import{u as y}from"./language-context-DQqIPPDP.js";import{a as b,f as N}from"./date-utils-BYRQ6yq9.js";import{U as o}from"./user-DIG-VwFC.js";import{S as w}from"./star-Cq7vPmKH.js";import{C as v}from"./calendar-Dcbq6X4X.js";import{C as _}from"./clock-DtXE6-Nx.js";import"./differenceInCalendarDays-D7TXt3rl.js";import"./utils-DIzSUSji.js";import"./index-CNgNZYQm.js";import"./index-CnVBUu3y.js";import"./index-DgMzxt3E.js";import"./createLucideIcon-DYOGCEiU.js";const G=u(function(){const{t:r}=y(),{user:t}=j(),{data:a,isLoading:m}=x({queryKey:["manager-tasks"],queryFn:async()=>(await f("/tasks/my-manager-tasks/")).myManagerTasks,enabled:!!t&&["admin","manager"].includes(t.role||"")});if(!t||!["admin","manager"].includes(t.role||""))return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-muted-foreground",children:r("manager_tasks.no_access")})});if(m)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const c=s=>{switch(s){case"High":return"bg-red-100 text-red-800 border-red-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},d=s=>{switch(s){case"Done":return"bg-green-100 text-green-800 border-green-200";case"In Progress":return"bg-blue-100 text-blue-800 border-blue-200";case"Review":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r("manager_tasks.title")}),e.jsx("p",{className:"text-muted-foreground",children:r("manager_tasks.description")})]})}),!a||a.length===0?e.jsx(n,{children:e.jsxs(l,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(o,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:r("manager_tasks.no_tasks_title")}),e.jsx("p",{className:"text-muted-foreground text-center",children:r("manager_tasks.no_tasks_description")})]})}):e.jsx("div",{className:"grid gap-4",children:a.map(s=>e.jsxs(n,{className:"hover:shadow-md transition-shadow",children:[e.jsx(p,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1 flex-1",children:[e.jsx(h,{className:"text-lg",children:e.jsxs(g,{to:`/task/${s._id}`,className:"hover:text-primary transition-colors",children:[s.title,s.isImportant&&e.jsx(w,{className:"inline-block ml-2 h-4 w-4 text-yellow-500 fill-current"})]})}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:s.description})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(i,{variant:"outline",className:c(s.priority),children:s.priority==="High"?r("priority.high"):s.priority==="Medium"?r("priority.medium"):r("priority.low")}),e.jsx(i,{variant:"outline",className:d(s.status),children:s.status==="To Do"?r("status.todo"):s.status==="In Progress"?r("status.in_progress"):s.status==="Review"?r("status.review"):r("status.done")})]})]})}),e.jsx(l,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[s.assignees&&s.assignees.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(o,{className:"h-4 w-4"}),e.jsx("span",{children:s.assignees.length===1?s.assignees[0].name:r("manager_tasks.assignees_count").replace("{count}",s.assignees.length.toString())})]}),s.dueDate&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx("span",{children:b(s.dueDate)})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_,{className:"h-4 w-4"}),e.jsx("span",{children:N(s.createdAt)})]})]})})]},s._id))})]})});export{G as default};
