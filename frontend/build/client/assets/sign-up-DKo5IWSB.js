import{w as F}from"./with-props-DyG_vBPJ.js";import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{u as N,F as U,a as t,b as i,c,d as l,e as m,s as v}from"./form-BmyV6FyK.js";import{a as h,s as y,q as k}from"./chunk-D4RADZKF-By21buN-.js";import{t as p}from"./index-CNgNZYQm.js";import{A as f,a as g}from"./alert-DlLWaqXv.js";import{B as A}from"./button-CYnDp3Q-.js";import{C as E,a as P,b as I,c as L,d as T,e as B}from"./card-DunmZ-Mm.js";import{I as d}from"./input-BPm_T_uW.js";import{u as D}from"./use-auth-BFmN1zjT.js";import{s as H}from"./schema-vgN0g95I.js";import{C as M}from"./circle-alert-CzTjZiAb.js";import{C as q}from"./circle-check-big-CiMFBpoa.js";import{L as z}from"./loader-circle-DPdm6C66.js";import"./utils-DIzSUSji.js";import"./label-URIJR8-n.js";import"./index-DTIwNWd2.js";import"./index-CnVBUu3y.js";import"./useMutation-CUJSGQ7R.js";import"./fetch-utils-CEdl9sdl.js";import"./createLucideIcon-DYOGCEiU.js";function ls({}){return[{title:"TaskHub | Sign Up"},{name:"description",content:"Sign Up to TaskHub!"}]}const J=()=>{const[x,o]=h.useState(null),[w,n]=h.useState(!1),{mutate:S,isPending:u}=D(),b=y(),r=N({resolver:v(H),defaultValues:{name:"",email:"",password:"",confirmPassword:""}}),C=async e=>{o(null);try{S(e,{onSuccess:()=>{n(!0),p.success("User Sign Up Successfully",{description:"Please check your email for verification"}),r.reset(),o(null),setTimeout(()=>{n(!1),b("/sign-in")},3e3)},onError:a=>{n(!1);const j=a.response.data.message||a.message;o(j),p.error("User Sign Up Failed",{description:j})}})}catch(a){n(!1),a instanceof Error?o(a.message):(o("An unknown error occurred"),p.error("User Sign Up Failed",{description:"An unknown error occurred"}))}};return s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-muted",children:s.jsxs(E,{className:"border-border/50 w-full max-w-md shadow-xl",children:[s.jsxs(P,{className:"mb-6 text-center",children:[s.jsx(I,{className:"text-3xl",children:"Создать аккаунт"}),s.jsx(L,{children:"Введите ваши данные, чтобы создать учетную запись"})]}),s.jsx(T,{children:s.jsx(U,{...r,children:s.jsxs("form",{onSubmit:r.handleSubmit(C),className:"space-y-4",children:[x&&s.jsxs(f,{variant:"destructive",children:[s.jsx(M,{className:"h-4 w-4"}),s.jsx(g,{children:x})]}),w&&s.jsxs(f,{variant:"success",children:[s.jsx(q,{className:"h-4 w-4"}),s.jsx(g,{children:"Пользователь успешно зарегистрирован. Пожалуйста, проверьте свою электронную почту для подтверждения."})]}),s.jsx(t,{control:r.control,name:"name",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Полное имя"}),s.jsx(l,{children:s.jsx(d,{placeholder:"John Doe",...e})}),s.jsx(m,{})]})}),s.jsx(t,{control:r.control,name:"email",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Электронная почта"}),s.jsx(l,{children:s.jsx(d,{type:"email",placeholder:"email@example.com",...e})}),s.jsx(m,{})]})}),s.jsx(t,{control:r.control,name:"password",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Пароль"}),s.jsx(l,{children:s.jsx(d,{type:"password",placeholder:"••••••••",...e})}),s.jsx(m,{})]})}),s.jsx(t,{control:r.control,name:"confirmPassword",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Подтвердите пароль"}),s.jsx(l,{children:s.jsx(d,{type:"password",placeholder:"••••••••",...e})}),s.jsx(m,{})]})}),s.jsx(A,{type:"submit",size:"lg",className:"w-full",disabled:u,children:u?s.jsxs(s.Fragment,{children:[s.jsx(z,{className:"mr-2 h-4 w-4 animate-spin"}),"Создание учетной записи..."]}):"Создать аккаунт"})]})})}),s.jsx(B,{children:s.jsxs("div",{className:"text-center text-sm w-full",children:["У вас уже есть аккаунт?"," ",s.jsx(k,{to:"/sign-in",className:"text-blue-600 font-semibold hover:underline",children:"Войти"})]})})]})})},ms=F(J);export{ms as default,ls as meta};
