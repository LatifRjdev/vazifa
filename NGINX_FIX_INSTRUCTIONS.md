# üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é nginx –¥–ª—è create-multiple

## ‚ùå –ù–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:

**–§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å:** `https://ptapi.oci.tj/tasks/create-multiple`

**Nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ:** `/api-v1/` –Ω–∞ backend

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞–ø—Ä–æ—Å `/tasks/` –ø–æ–ø–∞–¥–∞–µ—Ç –≤ `location /` (frontend) ‚Üí **404 Not Found**

## ‚úÖ –†–µ—à–µ–Ω–∏–µ:

–î–æ–±–∞–≤–∏—Ç—å –≤ nginx –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è `/tasks/`, `/auth/`, `/users/` –∏ —Ç.–¥.

## üìù –†—É—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (–≤—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):

### 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:
```bash
ssh -p 3022 ubuntu@193.111.11.98
```

### 2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
```bash
# –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª
sudo mv /tmp/nginx-vazifa-fixed /etc/nginx/sites-enabled/vazifa

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
sudo nginx -t

# –ï—Å–ª–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ nginx
sudo systemctl reload nginx
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á
- –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å! ‚úÖ

## üìÑ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

### ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ (–ü–ï–†–ï–î `location /`):
```nginx
# API routes –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ (tasks, auth, users, etc.)
location ~ ^/(tasks|auth|users|admin|tech-admin|comments|upload|admin-chat|admin-messages) {
    proxy_pass http://localhost:5001;
    proxy_http_version 1.1;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
}
```

## üéØ –í–∞–∂–Ω–æ:

–≠—Ç–æ—Ç –±–ª–æ–∫ **–î–û–õ–ñ–ï–ù** –±—ã—Ç—å –≤—ã—à–µ `location /`, –∏–Ω–∞—á–µ frontend –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã!

## üß™ –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:

1. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+R)
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á
3. –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```bash
   sudo tail -f /var/log/nginx/error.log
   ```

## üìä –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è nginx:

–§–∞–π–ª —É–∂–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ `/tmp/nginx-vazifa-fixed`

–ú–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:
```bash
cat /tmp/nginx-vazifa-fixed
```
